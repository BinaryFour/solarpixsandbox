(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(306)},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),s=a.n(o),c=a(14),i=a(13),l=a(133),u=a(134),p=a(83),d=a.n(p),h=a(3),m=a.n(h),b=a(24),f=a(5),g=a(137),v=a.n(g).a.create({baseURL:"https://binaryfour.github.io/"}),y=a(51),j=a.n(y),E=a(85),O=a.n(E),w=a(86),S=a.n(w),k=a(47),x=new k.b.Entity("pictureReqs"),C=new k.b.Entity("jobs",{pictureReqs:x}),I=new(a(138).a)("empowerDb");I.version(3).stores({job1:"photoId, uploadStatus",job2:"photoId, uploadStatus",job3:"photoId, uploadStatus",job4:"photoId, uploadStatus",job5:"photoId, uploadStatus",job6:"photoId, uploadStatus",job7:"photoId, uploadStatus",job8:"photoId, uploadStatus",job9:"photoId, uploadStatus",job0:"photoId, uploadStatus"});var N,T=I,D=function(e){var t={auth:{username:"upload",password:"nD2Qm9t4"},crossDomain:!0},a=new FormData;return a.append("upload",e),0===a.get("upload").size||0===e.lastModified?(console.log("This is formData: ",a.get("upload")),new Promise.reject(new Error("Image Corrupted"))):v.post("https://cors-anywhere.herokuapp.com/http://upload.empower-solar.com/index2.php",a,t)},J=function(e){return{type:"SET_JOBCOUNTER",payload:e}},A=function(e){return{type:"SET_CURRENTJOB",payload:e}},U=function(e){return{type:"SET_USERNAME",payload:e}},L=function(e,t,a){return{type:"UPDATE_CATUPLOADSTATUS",payload:{status:t,categoryId:e,photoReq:a}}},R=a(313),P=a(311),_=a(38),q=a(7),M=a(8),F=a(10),Q=a(9),B=a(11),G=a(33),Y=a.n(G),V=a(141),W=a(310),X=a(309),H=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.label,n=e.input,o=e.meta,s="field ".concat(o.error&&o.touched?"error":"");return r.a.createElement("div",{className:s},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},n,{autoComplete:"off"})),a.renderError(o))},a.renderDropdown=function(e,t){var n=e.label,o=e.input,s=e.meta,c="field ".concat(s.error&&s.touched?"error":"");return r.a.createElement("div",{className:c},r.a.createElement("label",null,n),r.a.createElement("select",o,r.a.createElement("option",{value:"install"},"Install"),r.a.createElement("option",{value:"pcsv"},"PCSV"),r.a.createElement("option",{value:"salessv"},"Sales SV")),a.renderError(s))},a.onSubmit=function(e){a.props.onSubmit(e)},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))}},{key:"renderList",value:function(){var e=this;return this.props.fields.map(function(t){return r.a.createElement(W.a,{name:t.name,label:t.label,key:t.key,component:{input:e.renderInput,dropdown:e.renderDropdown}[t.component],validate:t.validate})})}},{key:"render",value:function(){return r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},this.renderList(),r.a.createElement("br",null),r.a.createElement("button",{className:"fluid ui button primary"},"Submit"))}}]),t}(r.a.Component),z=Object(X.a)({form:"inputForm"})(H),K=function(e){return e?void 0:"You must enter a Project Name"},$=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={toCategories:!1,toDelete:!1,toSignin:!1,jobId:""},a.getOpenJobId=function(){var e=a.props.jobs;if(Object.keys(a.props.jobs).length>=10)return null;for(var t=0;t<10;t++)if(!Y.a.findKey(e,{id:"job".concat(t)}))return t},a.onSubmit=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectName.toUpperCase(),!localStorage.getItem("state").includes('"sessions":{}')){e.next=8;break}return e.next=4,a.props.createJobList(n,t.profileName,0);case 4:return e.next=6,a.props.setCurrentJob("job0");case 6:e.next=17;break;case 8:if(r=a.getOpenJobId(),!Number.isInteger(r)){e.next=16;break}return e.next=12,a.props.addNewJob(n,t.profileName,r);case 12:return e.next=14,a.props.setCurrentJob("job".concat(r));case 14:e.next=17;break;case 16:console.log("There are already 10 jobs");case 17:a.setState({toCategories:!0,jobId:a.props.currentJob});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("state").includes('"userData":{}')&&(console.log("entered redirect"),this.setState({toSignin:!0}))}},{key:"render",value:function(){return this.state.toCategories?r.a.createElement(V.a,{to:"/".concat(this.state.jobId,"/categories")}):this.state.toDelete?r.a.createElement(V.a,{to:"/delete"}):this.state.toSignin?r.a.createElement(V.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"New Job"),r.a.createElement(z,{onSubmit:this.onSubmit,initialValues:{profileName:"install"},fields:[{name:"projectName",label:"Project Name (try to use one word, all use same)",component:"input",key:"field1",validate:K},{name:"profileName",label:"Profile",component:"dropdown",key:"field2"}]}))}}]),t}(r.a.Component),Z=Object(c.b)(function(e){try{return{currentJob:e.jobMeta.currentJob,counter:e.jobMeta.jobCounter,jobs:Y.a.pickBy(e.sessions.entities.jobs,void 0)}}catch(t){return console.log("jobs dont exist yet"),{currentJob:e.jobMeta.currentJob,counter:e.jobMeta.jobCounter}}},{addNewJob:function(e,t,n){return function(){var r=Object(f.a)(m.a.mark(function r(o){var s,c,i,l,u,p,d,h,f,g;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s=a(68),c=[],i=[],l=0,r.t0=t,r.next="install"===r.t0?7:"pcsv"===r.t0?11:"salessv"===r.t0?15:19;break;case 7:return r.next=9,v.get(j.a);case 9:return u=r.sent,r.abrupt("break",23);case 11:return r.next=13,v.get(O.a);case 13:return u=r.sent,r.abrupt("break",23);case 15:return r.next=17,v.get(S.a);case 17:return u=r.sent,r.abrupt("break",23);case 19:return r.next=21,v.get(j.a);case 21:return u=r.sent,r.abrupt("break",23);case 23:u.data.split(/\n/).forEach(function(e){if(e){var t=e.split("|"),a={id:l,title:t[0],description:t[1],photoQty:0,catUploadStatus:"neutral"};c.push(a),i.push(a.title[0]),l+=1}}),p=Object(b.a)(new Set(i)),d=11,p.length>11&&(d=p.length),h=s({colormap:"hsv",nshades:d,format:"rgba",alpha:.2}),c.forEach(function(e){e.cellColor=h[parseInt(e.title[0])]}),f="job".concat(n),g="pictureReq".concat(n),o({type:"ADD_JOB",payload:{jobId:f,pictureReqId:g,jobData:{id:f,projectName:e,profileName:t,pictureReqs:g,color:""},pictureReqData:{id:g,jobId:f,categories:c}}});case 35:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},createJobList:function(e,t,n){return function(){var r=Object(f.a)(m.a.mark(function r(o){var s,c,i,l,u,p,d,h,f,g,y,E;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s=a(68),c=[],i=[],l=0,r.t0=t,r.next="install"===r.t0?7:"pcsv"===r.t0?11:"salessv"===r.t0?15:19;break;case 7:return r.next=9,v.get(j.a);case 9:return u=r.sent,r.abrupt("break",23);case 11:return r.next=13,v.get(O.a);case 13:return u=r.sent,r.abrupt("break",23);case 15:return r.next=17,v.get(S.a);case 17:return u=r.sent,r.abrupt("break",23);case 19:return r.next=21,v.get(j.a);case 21:return u=r.sent,r.abrupt("break",23);case 23:u.data.split(/\n/).forEach(function(e){if(e){var t=e.split("|"),a={id:l,title:t[0],description:t[1],photoQty:0,catUploadStatus:"neutral"};c.push(a),i.push(a.title[0]),l+=1}}),p=Object(b.a)(new Set(i)),d=11,p.length>11&&(d=p.length),h=s({colormap:"hsv",nshades:d,format:"rgba",alpha:.2}),c.forEach(function(e){e.cellColor=h[parseInt(e.title[0])]}),f="job".concat(n),g="pictureReq".concat(n),y={id:f,projectName:e,profileName:t,pictureReqs:{id:g,jobId:f,categories:c},color:""},E=Object(k.a)(y,C),o({type:"CREATE_JOBLIST",payload:E});case 35:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},setCurrentJob:A,setJobCounter:J})($),ee=a(307),te=a(308),ae=function(e){function t(){return Object(q.a)(this,t),Object(F.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(M.a)(t,[{key:"renderList",value:function(e){var t="".concat(100/this.props.links.length,"%");return this.props.links.map(function(e){return r.a.createElement(ee.a,{to:e.path,className:"item",key:e.id,style:{width:t}},e.label)})}},{key:"render",value:function(){var e="ui bottom fixed ".concat(this.props.links.length," item huge menu");return r.a.createElement("div",{className:e},this.renderList())}}]),t}(r.a.Component),ne=[{path:"/joblist",id:"jobList",label:"Back"},{path:"/upload",id:"uploadAll",label:"Upload All"}],re=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={toSignin:!1},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("state").includes('"userData":{}')&&this.setState({toSignin:!0}),this.props.pageLocation&&window.scrollTo(0,this.props.pageLocation)}},{key:"componentWillUnmount",value:function(){this.props.saveLocation(window.pageYOffset)}},{key:"renderList",value:function(){return this.props.categories.map(function(e){return r.a.createElement(ee.a,{to:"categories/".concat(e.id),className:"item",key:e.id,style:{backgroundColor:"rgba(".concat(e.cellColor[0],",").concat(e.cellColor[1],",").concat(e.cellColor[2],",").concat(e.cellColor[3],")")}},r.a.createElement("div",{className:"right floated middle aligned content"},r.a.createElement("div",{className:"description"},"Pics",r.a.createElement("div",{style:{textAlign:"center"}},e.photoQty))),{success:r.a.createElement("i",{className:"large middle aligned inverted green check icon"}),fail:r.a.createElement("i",{className:"large middle aligned inverted red x icon"}),neutral:r.a.createElement("i",{className:"large middle aligned inverted gray minus icon"}),waiting:r.a.createElement("i",{className:"large middle aligned cog loading icon"})}[e.catUploadStatus],r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"description"},e.description)))})}},{key:"render",value:function(){return this.state.toSignin?r.a.createElement(te.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Category List: ",this.props.job.projectName),r.a.createElement("div",{className:"ui celled list"},this.renderList()),r.a.createElement("div",{className:"padding",style:{display:"block",height:"48px"}}),r.a.createElement(ae,{links:ne}))}}]),t}(r.a.Component),oe=Object(c.b)(function(e,t){var a=e.jobMeta.currentJob,n=e.sessions.entities.jobs[a].pictureReqs;return{userName:e.userData,job:e.sessions.entities.jobs[a],categories:Object.values(e.sessions.entities.pictureReqs[n].categories),pageLocation:e.pageLocation.yValue}},{readTextFile:function(e){return function(){var t=Object(f.a)(m.a.mark(function t(n){var r,o,s,c,i,l,u;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(68),o=[],s=[],c=0,t.next=6,v.get(e);case 6:t.sent.data.split(/\n/).forEach(function(e){if(e){var t=e.split("|"),a={id:c,title:t[0],description:t[1],photoQty:0,catUploadStatus:"neutral"};o.push(a),s.push(a.title[0]),c+=1}}),i=Object(b.a)(new Set(s)),l=11,i.length>11&&(l=i.length),u=r({colormap:"hsv",nshades:l,format:"rgba",alpha:.2}),o.forEach(function(e){e.cellColor=u[parseInt(e.title[0])]}),n({type:"READ_TXT_FILE",payload:o});case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},saveLocation:function(e){return{type:"SAVE_PAGELOCATION",payload:e}}})(re),se=a(89),ce={display:"none"},ie=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).handleImage=function(e){a.props.onSubmit(e.target.files)},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui fluid labeled big input"},r.a.createElement("input",{className:"inputfile",id:"file",onChange:this.handleImage,type:"file",accept:"image/*;capture=camera",multiple:!0,style:ce}),r.a.createElement("label",{className:"ui fluid button large primary",htmlFor:"file"},"Use Camera App"))}}]),t}(r.a.Component),le=function(e){function t(){return Object(q.a)(this,t),Object(F.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return s.a.createPortal(r.a.createElement("div",{className:"ui dimmer modals visible active",style:{display:this.props.show}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},this.props.title),r.a.createElement("div",{className:"content"},this.props.content),r.a.createElement("img",{className:"ui medium rounded centered image",alt:"",src:this.props.image,style:{marginBottom:"10px"}}),r.a.createElement("div",{className:"actions"},this.props.actions))),document.querySelector("#modal"))}}]),t}(r.a.Component),ue=a(66),pe=a.n(ue),de=(a(305),function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.testVar=!1,a.state={categoryId:a.props.match.params.id,image:{},showImage:"",imageTitle:"",imageId:"",imageQty:"",thumbnails:[],showModal:"none",showPermissionsMsg:!1,os:se.osVersion},a.componentDidMount=Object(f.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a._isMounted=!0,T.isOpen()){e.next=4;break}return e.next=4,T.open();case 4:a.getThumbnails();case 5:case"end":return e.stop()}},e)})),a.srcToFile=function(){var e=Object(f.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("entered srcToFile"),e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.abrupt("return",a.arrayBuffer());case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a.countLocalPhotos=Object(f.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a.props.category.photoQty){e.next=14;break}return t="neutral",e.prev=3,e.next=6,T.table(a.props.currentJob).where("uploadStatus").equals("notUploaded").and(function(e){return e.photoId.split("_")[0]==="".concat(a.state.categoryId)}).count();case 6:n=e.sent,t=0===n?"success":"fail",a.props.updateCatUploadStatus(a.state.categoryId,t,a.props.job.pictureReqs),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Query failed: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[3,11]])})),a.onClickThumbnail=function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=URL.createObjectURL(t.photo),e.next=3,a.setState({showModal:"",image:t.photo,showImage:n,imageId:t.photoId});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.uploadFile=Object(f.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.imageId,n=a.state.image,e.next=4,a.setState({showModal:"none",image:{},showImage:"",imageId:""});case 4:return a.toastSettings("Uploading File...","info"),e.prev=5,e.next=8,D(n);case 8:a.toastSettings("Uploaded Image!","success"),a.updateStatusTrue(t),a._isMounted&&a.getThumbnails(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),a.toastSettings("FAIL: Image upload fail.  You can click on the thumbnail to re-attempt upload","error");case 17:case"end":return e.stop()}},e,null,[[5,13]])})),a.multiplePhotoInput=function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n=0;case 2:if(!(n<t.length)){e.next=10;break}return e.next=5,setTimeout(function(){return 1},100);case 5:return e.next=7,a.onAddPhoto(t[n]);case 7:n++,e.next=2;break;case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onAddPhoto=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,r,o,s,c,i,l,u,p,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,r="N","string"!=typeof t){e.next=7;break}return e.next=5,a.srcToFile(t);case 5:n=e.sent,r="E";case 7:return o=a.props.job,s=a.props.userName,c=Math.floor(Date.now()/100),console.log(c),i=a.state.imageQty+1,l="".concat(o.projectName,"-").concat(o.profileName,"_").concat(a.props.category.title,"-").concat(i,"_").concat(s,"{av").concat("2.4.11","-").concat(se.osName,"_").concat(a.state.os,"-ca").concat(r,"}"),u="".concat(a.state.categoryId,"_").concat(c),p=new File([n],l+".jpeg",{type:"image/jpeg"}),console.log("This is imageTitle: ",l,"This is renamedFile: ",p),e.next=18,a.setState({imageTitle:l,imageId:u});case 18:return e.prev=18,e.next=21,a.saveToDb(p);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(18),a.toastSettings("FAIL: Image NOT Saved.  Please re-take the photo. ".concat(e.t0),"error");case 26:return a.getThumbnails(),a.toastSettings("Uploading File...","info"),e.prev=28,e.next=31,D(p);case 31:d=e.sent,console.log("This is response",d),a.toastSettings("SUCCESS: Uploaded Image!","success"),a.updateStatusTrue(u),a._isMounted&&a.getThumbnails(),e.next=42;break;case 38:e.prev=38,e.t1=e.catch(28),console.log(e.t1),a.toastSettings("FAIL: Image NOT uploaded.  Please check your internet connection and try again. ".concat(e.t1),"error");case 42:case"end":return e.stop()}},e,null,[[18,23],[28,38]])}));return function(t){return e.apply(this,arguments)}}(),a.saveToDb=function(e){return T.table(a.props.currentJob).add({photoId:"".concat(a.state.imageId),fileName:a.state.imageTitle,uploadStatus:"notUploaded",photo:e,job:a.props.currentJob,pictureReq:a.props.job.pictureReqs})},a.updateStatusTrue=function(e){return T.table(a.props.currentJob).update(e,{uploadStatus:"uploaded"})},a.getThumbnails=Object(f.a)(m.a.mark(function e(){var t,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Enter getThumbnails"),t=[],n=0,r=a.state.categoryId,e.prev=4,e.next=7,T.table(a.props.currentJob).where("photoId").startsWith("".concat(r,"_")).toArray();case 7:t=e.sent,n=t.length,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("No Photos",e.t0);case 14:a.props.updatePhotoQty(r,n,a.props.job.pictureReqs),a.setState({imageQty:n,thumbnails:t});case 16:case"end":return e.stop()}},e,null,[[4,11]])})),a.toastSettings=function(e,t){a.props.toastManager.add(e,{appearance:t,autoDismiss:!0})},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.countLocalPhotos()}},{key:"onCameraError",value:function(e){console.log("This is the camera Error: ",e),this.setState({showPermissionsMsg:!0})}},{key:"renderActions",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.uploadFile()},className:"ui button primary"},"Upload"),r.a.createElement("button",{onClick:function(){return e.setState({showModal:"none",image:{},showImage:"",imageId:""})},className:"ui button"},"Cancel"))}},{key:"renderList",value:function(){var e=this;return this.state.thumbnails.map(function(t){if(t){var a=URL.createObjectURL(t.photo);return r.a.createElement("div",{onClick:function(a){return e.onClickThumbnail(t)},className:"item",key:t.photoId},r.a.createElement("img",{className:"ui small rounded centered image",src:a,alt:"",style:{marginBottom:"5px"}}),r.a.createElement("div",{className:"description"},"uploaded"===t.uploadStatus?"Uploaded!":"Not Uploaded"))}return r.a.createElement("div",null)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(le,{show:this.state.showModal,title:this.state.image.name,image:this.state.showImage,content:"Content",actions:this.renderActions(),onDismiss:function(){return e.setState({showModal:"none"})}}),r.a.createElement("h2",null,this.props.category.title),r.a.createElement("h3",null,this.props.category.description),r.a.createElement("h4",{style:this.state.showPermissionsMsg?{}:{display:"none"}},"You must allow access to the Camera.  If you denied the permission, please go to your chrome settings and enable the Camera permission for this site"),r.a.createElement("div",null,r.a.createElement(ie,{onSubmit:this.multiplePhotoInput}),r.a.createElement(pe.a,{onTakePhoto:function(t){e.onAddPhoto(t)},idealFacingMode:ue.FACING_MODES.ENVIRONMENT,imageType:ue.IMAGE_TYPES.JPG,isImageMirror:!1,imageCompression:0,isMaxResolution:!0,onCameraError:function(t){e.onCameraError(t)}}),r.a.createElement("h3",null,"Photos: ",this.state.imageQty),r.a.createElement("div",{className:"ui huge horizontal selection celled list",style:{marginBottom:"60px"}},this.renderList())),r.a.createElement(ae,{links:[{path:"/".concat(this.props.currentJob,"/categories"),id:"categoryList",label:"Back"}]}))}}]),t}(r.a.Component)),he=Object(_.withToastManager)(de),me=Object(c.b)(function(e,t){var a=e.jobMeta.currentJob,n=e.sessions.entities.jobs[a].pictureReqs;return{category:e.sessions.entities.pictureReqs[n].categories[t.match.params.id],job:e.sessions.entities.jobs[a],userName:e.userData,currentJob:a}},{getCategory:function(e){return function(t,a){var n=a().currentJob,r=a().sessions.entities.jobs[n].pictureReqs;t({type:"GET_CATEGORY",payload:a().sessions.entities.pictureReqs[r].categories[e]})}},addPhoto:function(e,t,a){return{type:"ADD_PHOTO",payload:{id:e,photoQty:t,photoQueue:a}}},updatePhotoQty:function(e,t,a){return{type:"UPDATE_PHOTOQTY",payload:{categoryId:e,photoQty:t,photoReq:a}}},updateCatUploadStatus:L})(he),be=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={cancel:!1,toPath:!1},a.resetData=Object(f.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.currentJobId,n=a.props.currentPictureReq,e.prev=2,T.table(t).clear(),a.props.setCurrentJob(""),e.next=7,a.props.deleteJob(t,n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Table did not clear",e.t0);case 12:a.setState({toPath:!0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"renderActions",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:Object(f.a)(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetData();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),className:"ui button negative"},"Delete Job"),r.a.createElement(ee.a,{to:"/joblist",className:"ui button"},"Cancel"))}},{key:"render",value:function(){var e=this;return this.state.cancel?r.a.createElement(te.a,{to:"/joblist"}):this.state.toPath?r.a.createElement(te.a,{to:"/joblist"}):r.a.createElement("div",null,r.a.createElement(le,{title:"Delete Job: ".concat(this.props.currentJob.projectName),content:"Please ensure all photos are uploaded for this job.  You will lose all the photos for this job.",path:"/joblist",actions:this.renderActions(),onDismiss:function(){return e.setState({toPath:!0})}}))}}]),t}(r.a.Component),fe=Object(c.b)(function(e){try{if(e.jobMeta.currentJob){var t=e.jobMeta.currentJob;return{currentJobId:t,currentJobCounter:e.jobMeta.jobCounter,currentJob:e.sessions.entities.jobs[t],currentPictureReq:e.sessions.entities.jobs[t].pictureReqs}}return{currentJobId:"",currentJobCounter:"",currentJob:"",currentPictureReq:""}}catch(a){console.log(a)}},{deleteJob:function(e,t){return{type:"DELETE_JOB",payload:{jobId:e,pictureReq:t}}},setJobCounter:J,setCurrentJob:A})(be),ge=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={cancel:!1},a.getLocalPhotos=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.table(a.props.currentJob).where("uploadStatus").equals("notUploaded").toArray();case 2:0!==(t=e.sent).length?a.uploadFiles(t):(a.toastSettings("No photos to Upload!","warning"),a.setState({cancel:!0}));case 4:case"end":return e.stop()}},e)})),a.uploadFiles=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,r,o,s,c,i,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({cancel:!0}),n=[],r=[],a.toastSettings("Uploading Files...","info"),o=0;case 5:if(!(o<t.length)){e.next=24;break}return e.prev=6,s=t[o].photoId.split("_"),c=s[0],a.props.updateCatUploadStatus(c,"waiting",a.props.pictureReq),e.next=12,D(t[o].photo);case 12:a.updateStatusTrue(t[o].photoId),n.push(c),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),i=t[o].photoId.split("_"),r.push(i[0]);case 21:o++,e.next=5;break;case 24:0!==n.length&&(a.toastSettings("Uploaded images!","success"),l=Object(b.a)(new Set(n)),a.checkCategoryUploadStatus(l)),0!==r.length&&(a.toastSettings("Some images failed","error"),u=Object(b.a)(new Set(r)),a.checkCategoryUploadStatus(u));case 26:case"end":return e.stop()}},e,null,[[6,16]])}));return function(t){return e.apply(this,arguments)}}(),a.checkCategoryUploadStatus=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.table(a.props.currentJob).where("uploadStatus").equals("notUploaded").and(function(e){return e.photoId.split("_")[0]==="".concat(t[n])}).count();case 3:0===e.sent?a.props.updateCatUploadStatus(t[n],"success",a.props.pictureReq):a.props.updateCatUploadStatus(t[n],"fail",a.props.pictureReq),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}),r=0;case 2:if(!(r<t.length)){e.next=7;break}return e.delegateYield(n(r),"t0",4);case 4:r++,e.next=2;break;case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateStatusTrue=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.table(a.props.currentJob).update(t,{uploadStatus:"uploaded"});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.toastSettings=function(e,t){a.props.toastManager.add(e,{appearance:t,autoDismiss:!0})},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"renderActions",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.getLocalPhotos()},className:"ui button positive"},"Upload"),r.a.createElement(ee.a,{to:"".concat(this.props.currentJob,"/categories"),className:"ui button"},"Cancel"))}},{key:"render",value:function(){var e=this;return this.state.cancel?r.a.createElement(te.a,{to:"".concat(this.props.currentJob,"/categories")}):r.a.createElement("div",null,r.a.createElement(le,{title:"Upload local photos",content:"Upload all photos that have not been uploaded yet?",path:"".concat(this.props.currentJob,"/categories"),actions:this.renderActions(),onDismiss:function(){return e.setState({toPath:!0})}}))}}]),t}(r.a.Component),ve=Object(_.withToastManager)(ge),ye=Object(c.b)(function(e){var t=e.jobMeta.currentJob;return{currentJob:t,pictureReq:e.sessions.entities.jobs[t].pictureReqs}},{updateCatUploadStatus:L})(ve),je=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={toCategories:!1,toDelete:!1,toSignin:!1,jobId:""},a.checkForPhotoCompletion=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.table(t).where("uploadStatus").equals("notUploaded").count();case 3:return n=e.sent,e.next=6,T.table(t).count();case 6:r=e.sent,0===n&0!==r?(console.log("Green",t),a.props.updateJobColor(t,"rgba(75, 225, 75, 0.2)")):0!==n&&a.props.updateJobColor(t,"rgba(225, 75, 75, 0.2)"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.onJobClick=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setCurrentJob(t);case 2:return e.next=4,a.setState({toCategories:!0,jobId:t});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onDeleteClick=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setCurrentJob(t);case 2:a.setState({toDelete:!0,jobId:t});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("state").includes('"userData":{}')&&(console.log("entered redirect"),this.setState({toSignin:!0})),T.isOpen()||T.open();try{for(var e=0;e<this.props.sessionData.length;e++)this.checkForPhotoCompletion(this.props.sessionData[e].id)}catch(t){console.log(t)}}},{key:"renderList",value:function(){var e=this;if(this.props.sessionData)return this.props.sessionData.map(function(t){return r.a.createElement("div",{className:"item",key:t.id,style:{backgroundColor:"".concat(t.color)}},r.a.createElement("div",{className:"right floated middle aligned content"},r.a.createElement("button",{className:"ui negative button",onClick:function(){e.onDeleteClick(t.id)}},"Delete")),r.a.createElement("div",{onClick:function(){e.onJobClick(t.id)}},t.projectName))})}},{key:"render",value:function(){if(this.state.toCategories)return r.a.createElement(V.a,{to:"/".concat(this.state.jobId,"/categories")});if(this.state.toDelete)return r.a.createElement(V.a,{to:"/delete"});if(this.state.toSignin)return r.a.createElement(V.a,{to:"/"});try{return r.a.createElement("div",null,r.a.createElement("h1",null,"Job List"),r.a.createElement("div",{className:"ui massive celled list"},r.a.createElement("div",{className:"item",key:"warning",style:{visibility:10===this.props.sessionData.length?"visible":"hidden"}},"Limit 10 jobs.  Delete jobs to make space."),r.a.createElement(ee.a,{to:"/newjob",className:"item",key:"newJob",style:{visibility:10===this.props.sessionData.length?"hidden":"visible"}},r.a.createElement("i",{className:"large plus square outline icon"}),r.a.createElement("div",{className:"content"},"New Job")),this.renderList()))}catch(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Job List"),r.a.createElement("div",{className:"ui massive celled list"},r.a.createElement(ee.a,{to:"/newjob",className:"item",key:"newJob"},r.a.createElement("i",{className:"large plus square outline icon"}),r.a.createElement("div",{className:"content"},"New Job")),this.renderList()))}}}]),t}(r.a.Component),Ee=Object(c.b)(function(e){try{return{userName:e.userData,sessionData:Y.a.compact(Object.values(e.sessions.entities.jobs))}}catch(t){return{userName:e.userData}}},{setCurrentJob:A,updateJobColor:function(e,t){return{type:"UPDATE_JOBCOLOR",payload:{color:t,jobId:e}}}})(je),Oe=function(e){return e&&e.length>3?"You must enter a User Name (Max 3 characters)":void 0},we=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={toJobList:!1,toSignIn:!1},a.onSubmit=function(e){e.userName=e.userName.toUpperCase(),a.props.setUsername(e.userName),a.setState({toJobList:!0})},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){!localStorage.getItem("state").includes('"sessions":{}')&!localStorage.getItem("state").includes('"userData":{}')?(console.log("going to joblist"),this.setState({toJobList:!0})):localStorage.getItem("state").includes("signIn")||localStorage.clear()}},{key:"render",value:function(){return this.state.toJobList?r.a.createElement(V.a,{to:"/joblist"}):r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"SolarPix 2.0"),r.a.createElement("h4",{style:{textAlign:"center"}},"Please Sign In with your Initials"),r.a.createElement(z,{initialValues:{key:"signIn"},onSubmit:this.onSubmit,fields:[{name:"userName",label:"User Initials",component:"input",key:"field1",validate:Oe}]}))}}]),t}(r.a.Component),Se=Object(c.b)(null,{setUsername:U})(we),ke=(N=function(e){return r.a.createElement(_.ToastProvider,null,r.a.createElement("p",null,"v","2.4.11"),r.a.createElement("div",{className:"ui container"},r.a.createElement(R.a,null,r.a.createElement("div",null,r.a.createElement(P.a,{path:"/newjob",exact:!0,component:Z}),r.a.createElement(P.a,{path:"/:job/categories",exact:!0,component:oe}),r.a.createElement(P.a,{path:"/:job/categories/:id",exact:!0,component:me}),r.a.createElement(P.a,{path:"/delete",exact:!0,component:fe}),r.a.createElement(P.a,{path:"/upload",exact:!0,component:ye}),r.a.createElement(P.a,{path:"/joblist",exact:!0,component:Ee}),r.a.createElement(P.a,{path:"/",exact:!0,component:Se})))))},function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).state={isDisconnected:!1},a.handleConnectionChange=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("online"!==(navigator.onLine?"online":"offline")){e.next=4;break}return t=setInterval(function(){fetch("//google.com",{mode:"no-cors"}).then(function(){a.setState({isDisconnected:!1},function(){return clearInterval(t)})}).catch(function(){return a.setState({isDisconnected:!0})})},2e3),e.abrupt("return");case 4:return e.abrupt("return",a.setState({isDisconnected:!0}));case 5:case"end":return e.stop()}},e)})),a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"ui block center aligned header",style:{backgroundColor:"orange"}},r.a.createElement("p",null,"Offline Mode")),r.a.createElement(N,Object.assign({},this.props,{isDisconnected:this.state.isDisconnected})))}}]),t}(n.Component)),xe=Object(c.b)(function(e){return{uploadStatus:e.uploadStatus,userData:e.userData}},{uploadAllPhotos:function(){return function(){var e=Object(f.a)(m.a.mark(function e(t,a){var n,r,o,s,c,i,l,u,p,d,h,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("entered uploadAllPhotos"),T.isOpen()||T.open(),n=[],r=[],o=[],s=[],c=[],i=T.tables,l=0;case 9:if(!(l<i.length)){e.next=17;break}return e.next=12,T.table(i[l].name).where("uploadStatus").equals("notUploaded").toArray();case 12:u=e.sent,n=n.concat(u);case 14:l++,e.next=9;break;case 17:if(0===n.length){e.next=49;break}p=0;case 19:if(!(p<n.length)){e.next=37;break}return d=n[p],e.prev=21,t(L(d.photoId[0],"waiting",d.pictureReq)),e.next=25,D(d.photo);case 25:return e.next=27,T.table(d.job).update(d.photoId,{uploadStatus:"uploaded"});case 27:r.push({job:d.job,pictureReq:d.pictureReq,categoryId:d.photoId[0]}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(21),o.push({job:d.job,pictureReq:d.pictureReq,categoryId:d.photoId[0]}),console.log(e.t0);case 34:p++,e.next=19;break;case 37:console.log("successArray",r,"failArray",o);try{s=Object(b.a)(new Set(r.map(function(e){return JSON.stringify(e)}))),c=Object(b.a)(new Set(s.map(function(e){return JSON.parse(e)})))}catch(a){console.log(a)}console.log("uniqueObjs",c),h=m.a.mark(function e(a){var n,r,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c[a],r="neutral",e.prev=2,e.next=5,T.table(n.job).where("uploadStatus").equals("notUploaded").and(function(e){return e.photoId.split("_")[0]==="".concat(n.categoryId)}).count();case 5:o=e.sent,r=0===o?"success":"fail",t(L(n.categoryId,r,n.pictureReq)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Query failed: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}),f=0;case 42:if(!(f<c.length)){e.next=47;break}return e.delegateYield(h(f),"t1",44);case 44:f++,e.next=42;break;case 47:e.next=49;break;case 49:t({type:"UPLOAD_ALLIMAGES",payload:0});case 50:case"end":return e.stop()}},e,null,[[21,30]])}));return function(t,a){return e.apply(this,arguments)}}()},updateUploadStatus:function(e){return{type:"UPLOAD_ALLIMAGES_STATUS",payload:e}},setUsername:U})(ke),Ce=a(312),Ie=a(15),Ne=a(50),Te={currentJob:"",jobCounter:0},De=Object(i.combineReducers)({uploadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_ALLIMAGES_STATUS":return Object(Ie.a)({},e),t.payload;default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERNAME":return Object(Ie.a)({},e),t.payload;default:return e}},jobMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENTJOB":return Object(Ie.a)({},e,{currentJob:t.payload});case"SET_JOBCOUNTER":var a=e.jobCounter+t.payload;return Object(Ie.a)({},e,{jobCounter:a});default:return e}},categoryData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READ_TXT_FILE":return Object(Ie.a)({},e,Y.a.mapKeys(t.payload,"id"));case"ENCODE_IMAGE":case"GET_CATEGORY":return Object(Ie.a)({},e,Object(Ne.a)({},t.payload.id,t.payload));case"GET_LOCALSTORAGE":return Object(Ie.a)({},e,{categories:t.payload});default:return e}},sessions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_JOBLIST":var a=Object(Ie.a)({},e);return a=t.payload;case"UPDATE_PHOTOQTY":return(a=Object(Ie.a)({},e)).entities.pictureReqs[t.payload.photoReq].categories[t.payload.categoryId].photoQty=t.payload.photoQty,a;case"DELETE_JOB":return(a=Object(Ie.a)({},e)).entities.jobs[t.payload.jobId]=void 0,a.entities.pictureReqs[t.payload.pictureReq]=void 0,a;case"ADD_JOB":return(a=Object(Ie.a)({},e)).entities.jobs[t.payload.jobId]=t.payload.jobData,a.entities.pictureReqs[t.payload.pictureReqId]=t.payload.pictureReqData,a;case"UPDATE_CATUPLOADSTATUS":return(a=Object(Ie.a)({},e)).entities.pictureReqs[t.payload.photoReq].categories[t.payload.categoryId].catUploadStatus=t.payload.status,a;case"UPDATE_JOBCOLOR":return(a=Object(Ie.a)({},e)).entities.jobs[t.payload.jobId].color=t.payload.color,a;default:return e}},form:Ce.a,pageLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_PAGELOCATION":return Object(Ie.a)({},e,{yValue:t.payload});default:return e}}}),Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ue=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.compose,Re=Object(i.createStore)(De,Ue,Le(Object(i.applyMiddleware)(l.a),Object(u.offline)(d.a)));Re.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({userData:Re.getState().userData,sessions:Re.getState().sessions,jobMeta:Re.getState().jobMeta,db:Re.getState().db})}),s.a.render(r.a.createElement(c.a,{store:Re},r.a.createElement(xe,null)),document.querySelector("#root")),function(e){if("serviceWorker"in navigator){if(new URL("/solarpixsandbox",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/solarpixsandbox","/service-worker.js");Je?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ae(t,e)})}}()},51:function(e,t,a){e.exports=a.p+"static/media/categoryListFile_install.c5af7465.bin"},85:function(e,t,a){e.exports=a.p+"static/media/categoryListFile_pcsv.1ad94596.bin"},86:function(e,t,a){e.exports=a.p+"static/media/categoryListFile_salessv.f15da299.bin"}},[[143,1,2]]]);
//# sourceMappingURL=main.dbf5cb09.chunk.js.map